{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\src\\\\pages\\\\SearchBooks.js\";\nimport React, { Component } from \"react\";\nimport \"../App.css\";\nimport API from \"../utils/API\";\nimport BookDetail from \"../components/BookDetail\";\nimport BookSearchEntry from \"../components/BookSearchEntry\";\nimport SearchGoogleApiButton from \"../components/SearchGoogleAPIButton\";\n\nvar SearchBooks =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchBooks, _Component);\n\n  function SearchBooks() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SearchBooks);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SearchBooks)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      result: [],\n      search: \"\",\n      error: \"\"\n    };\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n\n      _this.setState({\n        search: value\n      });\n    };\n\n    _this.handleSearchSubmit = function (event) {\n      event.preventDefault();\n      console.log(\"Search state is: \".concat(_this.state.search));\n\n      _this.searchBooks(_this.state.search);\n    };\n\n    _this.searchBooks = function (query) {\n      API.search(query).then(function (res) {\n        var bookLayout = formatBookInfo(res.data.items);\n\n        _this.setState({\n          result: bookLayout\n        });\n      }).catch(function (err) {\n        return console.log(\"The error is \".concat(err));\n      });\n    };\n\n    _this.handleSave = function (event) {\n      var theBook = _this.state.result.find(function (bookData) {\n        return bookData.titleId === event.target.id;\n      });\n\n      console.log(\"Author info is \".concat(theBook.authors));\n      var saveInfo = {\n        title: theBook.title,\n        link: theBook.previewLink,\n        authors: theBook.authors,\n        pic: theBook.thumbnail,\n        publisher: theBook.publisher,\n        synopsis: theBook.description\n      };\n      API.saveBook(saveInfo).then(function (res) {\n        console.log(res.status, res.statusText); // this.props.alert.show(\"Volume Saved\", {type: \"success\"})\n      }).catch(function (err) {\n        console.log(err); // this.props.alert.show(\"Apologies, an issue arose when attempting to save the volume.\", \n        // {type: \"error\",\n        // timeout: 3500})\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(SearchBooks, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"The Book Search Widget\")), React.createElement(\"div\", {\n        className: \"search-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \" Tome Finder\"), React.createElement(BookSearchEntry, {\n        name: \"googleBookSearch\",\n        value: this.state.search,\n        onChange: this.handleInputChange,\n        placeholder: \"Enter a Book Title Here\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(SearchGoogleApiButton, {\n        onClick: this.handleSearchSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Search\")), this.state.result.length ? React.createElement(\"div\", {\n        className: \"results-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Works Retrieved\"), React.createElement(BookDetail, {\n        books: this.state.result,\n        clickAction: this.handleSave,\n        buttonType: \"col s1 waves-effect waves-light btn-small right\",\n        buttonText: \"Save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })) : React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \" \")));\n    }\n  }]);\n\n  return SearchBooks;\n}(Component);\n\nexport default SearchBooks;\n\nvar formatBookInfo = function formatBookInfo(googleBooksReturn) {\n  var bookInfo = [];\n  googleBooksReturn.map(function (bookData) {\n    var bookFormat = {\n      key: bookData.id,\n      titleId: bookData.id,\n      title: bookData.volumeInfo.title,\n      link: bookData.volumeInfo.previewLink,\n      authors: bookData.volumeInfo.authors ? bookData.volumeInfo.authors : ['authors not Provided'],\n      pic: bookData.volumeInfo.imageLinks.thumbnail ? bookData.volumeInfo.imageLinks.thumbnail : \"http://drpp-ny.org/wp-content/uploads/2014/07/sorry-image-not-available.png\",\n      publisher: bookData.volumeInfo.publisher ? bookData.volumeInfo.publisher : \"Publisher not Provided\",\n      synopsis: bookData.volumeInfo.description ? bookData.volumeInfo.description : \"Synopsis not Provided\"\n    };\n    bookInfo.push(bookFormat);\n    return bookInfo;\n  });\n  return bookInfo;\n};","map":{"version":3,"sources":["C:\\Users\\Denni\\Documents\\Coding\\book-search\\client\\src\\pages\\SearchBooks.js"],"names":["React","Component","API","BookDetail","BookSearchEntry","SearchGoogleApiButton","SearchBooks","state","result","search","error","handleInputChange","event","value","target","setState","handleSearchSubmit","preventDefault","console","log","searchBooks","query","then","res","bookLayout","formatBookInfo","data","items","catch","err","handleSave","theBook","find","bookData","titleId","id","authors","saveInfo","title","link","previewLink","pic","thumbnail","publisher","synopsis","description","saveBook","status","statusText","length","googleBooksReturn","bookInfo","map","bookFormat","key","volumeInfo","imageLinks","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../App.css\";\r\nimport API from \"../utils/API\";\r\nimport BookDetail from \"../components/BookDetail\";\r\nimport BookSearchEntry from \"../components/BookSearchEntry\"\r\nimport SearchGoogleApiButton from \"../components/SearchGoogleAPIButton\";\r\n\r\nclass SearchBooks extends Component {\r\n  // constructor (props) {\r\n  //   super(props);\r\n  //   this.\r\n    state = {\r\n      result: [],\r\n      search: \"\",\r\n      error: \"\"\r\n    };\r\n  // }\r\n\r\n\r\n// function for mapping details of each book from google books...\r\n// api is below export default at bottom of this file\r\n\r\n  handleInputChange = event => {\r\n    const {value} = event.target;\r\n    this.setState({ \r\n      search: value\r\n    });\r\n  };\r\n\r\n  handleSearchSubmit = event => {\r\n    event.preventDefault();\r\n    console.log(`Search state is: ${this.state.search}`);\r\n    this.searchBooks(this.state.search);\r\n  };\r\n\r\n\r\n  searchBooks = query => {\r\n    API.search(query)\r\n      .then (res => {\r\n        const bookLayout = formatBookInfo(res.data.items);\r\n        this.setState({ result: bookLayout });\r\n      })\r\n      .catch(err => console.log(`The error is ${err}`)); \r\n      \r\n  };\r\n\r\n  handleSave = event => {\r\n  \r\n      const theBook = this.state.result.find(bookData => bookData.titleId === event.target.id);\r\n\r\n      console.log(`Author info is ${theBook.authors}`);\r\n\r\n      const saveInfo = {\r\n        title: theBook.title,\r\n        link: theBook.previewLink,\r\n        authors: theBook.authors,\r\n        pic: theBook.thumbnail,\r\n        publisher: theBook.publisher,\r\n        synopsis: theBook.description\r\n\r\n      };\r\n      \r\n            \r\n      API.saveBook(saveInfo)\r\n        .then(res =>{\r\n          console.log(res.status, res.statusText);\r\n          // this.props.alert.show(\"Volume Saved\", {type: \"success\"})\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          // this.props.alert.show(\"Apologies, an issue arose when attempting to save the volume.\", \r\n            // {type: \"error\",\r\n            // timeout: 3500})\r\n        });\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"wrapper\">\r\n          \r\n          <div className=\"App-header\">\r\n            <h2>The Book Search Widget\r\n            </h2>\r\n          </div>\r\n\r\n          <div className=\"search-area\">\r\n            <h2> Tome Finder\r\n            </h2>\r\n\r\n            <BookSearchEntry \r\n              name=\"googleBookSearch\"\r\n              value={this.state.search}\r\n              onChange={this.handleInputChange}\r\n              placeholder=\"Enter a Book Title Here\"\r\n            />\r\n\r\n            <SearchGoogleApiButton \r\n              onClick={this.handleSearchSubmit}\r\n            > \r\n            Search \r\n            </SearchGoogleApiButton>\r\n\r\n          </div>\r\n\r\n          {this.state.result.length ? (\r\n            <div className=\"results-area\">\r\n              <h2>Works Retrieved\r\n              </h2>\r\n\r\n              <BookDetail \r\n                books={this.state.result}\r\n                clickAction={this.handleSave}\r\n                buttonType=\"col s1 waves-effect waves-light btn-small right\"\r\n                buttonText = \"Save\"\r\n              />\r\n              \r\n            </div>\r\n          ) : (\r\n            <h3> </h3>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default SearchBooks;\r\n\r\nconst formatBookInfo = googleBooksReturn => {\r\n  const bookInfo = [];\r\n\r\n  googleBooksReturn.map(bookData => {\r\n    const bookFormat = {\r\n      key: bookData.id,\r\n      titleId: bookData.id,\r\n      title: bookData.volumeInfo.title,\r\n      link: bookData.volumeInfo.previewLink,\r\n      authors: bookData.volumeInfo.authors ? bookData.volumeInfo.authors : ['authors not Provided'],\r\n      pic: bookData.volumeInfo.imageLinks.thumbnail ? bookData.volumeInfo.imageLinks.thumbnail : \"http://drpp-ny.org/wp-content/uploads/2014/07/sorry-image-not-available.png\",\r\n      publisher: bookData.volumeInfo.publisher ? bookData.volumeInfo.publisher : \"Publisher not Provided\",\r\n      synopsis: bookData.volumeInfo.description ? bookData.volumeInfo.description : \"Synopsis not Provided\"\r\n    };\r\n    bookInfo.push(bookFormat);\r\n    return bookInfo\r\n  });\r\n  return bookInfo;\r\n};"]},"metadata":{},"sourceType":"module"}