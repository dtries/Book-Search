{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Denni\\\\Documents\\\\Coding\\\\book-search\\\\client\\\\src\\\\pages\\\\SearchBooks.js\";\nimport React, { Component } from \"react\";\nimport \"../App.css\";\nimport API from \"../utils/API\";\nimport BookDetail from \"../components/BookDetail\";\nimport BookSearchEntry from \"../components/BookSearchEntry\";\nimport SearchGoogleApiButton from \"../components/SearchGoogleAPIButton\";\n\nvar SearchBooks =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchBooks, _Component);\n\n  function SearchBooks(props) {\n    var _this;\n\n    _classCallCheck(this, SearchBooks);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchBooks).call(this, props));\n\n    _this.handleInputChange = function (event) {\n      var value = event.target.value;\n\n      _this.setState({\n        search: value\n      });\n    };\n\n    _this.handleSearchSubmit = function (event) {\n      event.preventDefault();\n      console.log(\"Search state is: \".concat(_this.state.search));\n\n      _this.searchBooks(_this.state.search);\n    };\n\n    _this.searchBooks = function (query) {\n      API.search(query).then(function (res) {\n        var bookLayout = formatBookInfo(res.data.items);\n\n        _this.setState({\n          result: bookLayout\n        });\n      }).catch(function (err) {\n        return console.log(\"The error is \".concat(err));\n      });\n    };\n\n    _this.handleSave = function (event) {\n      var theBook = _this.state.results.find(function (bookData) {\n        return bookData.titleId === event.target.id;\n      });\n\n      var saveInfo = {\n        title: theBook.title,\n        link: theBook.previewLink,\n        authors: theBook.authors,\n        pic: theBook.thumbnail,\n        publisher: theBook.publisher,\n        synopsis: theBook.description\n      };\n      API.saveBook(saveInfo).then(function (res) {\n        console.log(res.status, res.statusText);\n\n        _this.props.alert.show(\"Volume Saved\", {\n          type: \"success\"\n        });\n      }).catch(function (err) {\n        console.log(err);\n\n        _this.props.alert.show(\"Apologies, an issue arose when attempting to save the volume.\", {\n          type: \"error\",\n          timeout: 3500\n        });\n      });\n    };\n\n    _this.state = {\n      result: [],\n      search: \"\",\n      error: \"\"\n    };\n    return _this;\n  } // function for mapping details of each book from google books...\n  // api is below export default at bottom of this file\n\n\n  _createClass(SearchBooks, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"The Book Search Widget\")), React.createElement(\"div\", {\n        className: \"search-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \" Tome Finder\"), React.createElement(BookSearchEntry, {\n        name: \"googleBookSearch\",\n        value: this.state.search,\n        onChange: this.handleInputChange,\n        placeholder: \"Enter a Book Title Here\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }), React.createElement(SearchGoogleApiButton, {\n        onClick: this.handleSearchSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Search\")), React.createElement(\"div\", {\n        className: \"results-area\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Works Retrieved\"), React.createElement(BookDetail, {\n        books: this.state.results,\n        clickAction: this.handleSave,\n        buttonType: \"col s1 waves-effect waves-light btn-small right\",\n        buttonText: \"Save\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SearchBooks;\n}(Component);\n\nexport default SearchBooks;\n\nvar formatBookInfo = function formatBookInfo(googleBooksReturn) {\n  var bookInfo = [];\n  googleBooksReturn.map(function (bookData) {\n    var bookFormat = {\n      key: bookData.id,\n      titleId: bookData.id,\n      title: bookData.volumeInfo.title,\n      link: bookData.volumeInfo.previewLink,\n      authors: bookData.volumeInfo.authors ? bookData.volumeInfo.authors : ['Author not Provided'],\n      pic: bookData.volumeInfo.imageLinks.thumbnail ? bookData.volumeInfo.imageLinks.thumbnail : \"http://drpp-ny.org/wp-content/uploads/2014/07/sorry-image-not-available.png\",\n      publisher: bookData.volumeInfo.publisher ? bookData.volumeInfo.publisher : [\"Publisher not Provided\"],\n      synopsis: bookData.volumeInfo.description ? bookData.volumeInfo.description : [\"Synopsis not Provided\"]\n    };\n    bookInfo.push(bookFormat);\n    return bookInfo;\n  });\n  return bookInfo;\n};","map":{"version":3,"sources":["C:\\Users\\Denni\\Documents\\Coding\\book-search\\client\\src\\pages\\SearchBooks.js"],"names":["React","Component","API","BookDetail","BookSearchEntry","SearchGoogleApiButton","SearchBooks","props","handleInputChange","event","value","target","setState","search","handleSearchSubmit","preventDefault","console","log","state","searchBooks","query","then","res","bookLayout","formatBookInfo","data","items","result","catch","err","handleSave","theBook","results","find","bookData","titleId","id","saveInfo","title","link","previewLink","authors","pic","thumbnail","publisher","synopsis","description","saveBook","status","statusText","alert","show","type","timeout","error","googleBooksReturn","bookInfo","map","bookFormat","key","volumeInfo","imageLinks","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../App.css\";\r\nimport API from \"../utils/API\";\r\nimport BookDetail from \"../components/BookDetail\";\r\nimport BookSearchEntry from \"../components/BookSearchEntry\"\r\nimport SearchGoogleApiButton from \"../components/SearchGoogleAPIButton\";\r\n\r\nclass SearchBooks extends Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      result: [],\r\n      search: \"\",\r\n      error: \"\"\r\n    };\r\n  }\r\n\r\n\r\n// function for mapping details of each book from google books...\r\n// api is below export default at bottom of this file\r\n\r\n  handleInputChange = event => {\r\n    const {value} = event.target;\r\n    this.setState({ \r\n      search: value\r\n    });\r\n  };\r\n\r\n  handleSearchSubmit = event => {\r\n    event.preventDefault();\r\n    console.log(`Search state is: ${this.state.search}`);\r\n    this.searchBooks(this.state.search);\r\n  };\r\n\r\n\r\n  searchBooks = query => {\r\n    API.search(query)\r\n      .then (res => {\r\n        const bookLayout = formatBookInfo(res.data.items);\r\n        this.setState({ result: bookLayout });\r\n      })\r\n      .catch(err => console.log(`The error is ${err}`)); \r\n      \r\n  };\r\n\r\n  handleSave = event => {\r\n  \r\n      const theBook = this.state.results.find(bookData => bookData.titleId === event.target.id);\r\n\r\n      const saveInfo = {\r\n        title: theBook.title,\r\n        link: theBook.previewLink,\r\n        authors: theBook.authors ,\r\n        pic: theBook.thumbnail,\r\n        publisher: theBook.publisher,\r\n        synopsis: theBook.description\r\n\r\n      };\r\n      \r\n            \r\n      API.saveBook(saveInfo)\r\n        .then(res =>{\r\n          console.log(res.status, res.statusText);\r\n          this.props.alert.show(\"Volume Saved\", {type: \"success\"})\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          this.props.alert.show(\"Apologies, an issue arose when attempting to save the volume.\", \r\n            {type: \"error\",\r\n            timeout: 3500})\r\n        });\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"App\">\r\n          <div className=\"container\">\r\n          \r\n          <div className=\"App-header\">\r\n            <h2>The Book Search Widget\r\n            </h2>\r\n          </div>\r\n\r\n          <div className=\"search-area\">\r\n            <h2> Tome Finder\r\n            </h2>\r\n\r\n            <BookSearchEntry \r\n              name=\"googleBookSearch\"\r\n              value={this.state.search}\r\n              onChange={this.handleInputChange}\r\n              placeholder=\"Enter a Book Title Here\"\r\n            />\r\n\r\n            <SearchGoogleApiButton \r\n              onClick={this.handleSearchSubmit}\r\n            > \r\n            Search \r\n            </SearchGoogleApiButton>\r\n\r\n          </div>\r\n\r\n          <div className=\"results-area\">\r\n            <h2>Works Retrieved\r\n            </h2>\r\n\r\n            <BookDetail \r\n              books={this.state.results}\r\n              clickAction={this.handleSave}\r\n              buttonType=\"col s1 waves-effect waves-light btn-small right\"\r\n              buttonText = \"Save\"\r\n            />\r\n        \r\n             {/* {this.state.result.map(bookData => (\r\n                <BookDetail \r\n                  key={bookData.id}\r\n                  title={bookData.volumeInfo.title}\r\n                  link={bookData.volumeInfo.previewLink}\r\n                  authors={bookData.volumeInfo.authors}\r\n                  pic={bookData.volumeInfo.imageLinks.thumbnail ? bookData.volumeInfo.imageLinks.thumbnail : \"Pic Not Available\"}\r\n                  publisher={bookData.volumeInfo.publisher}\r\n                  synopsis={bookData.volumeInfo.description}\r\n                />\r\n            ))} */}\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default SearchBooks;\r\n\r\nconst formatBookInfo = googleBooksReturn => {\r\n  const bookInfo = [];\r\n\r\n  googleBooksReturn.map(bookData => {\r\n    const bookFormat = {\r\n      key: bookData.id,\r\n      titleId: bookData.id,\r\n      title: bookData.volumeInfo.title,\r\n      link: bookData.volumeInfo.previewLink,\r\n      authors: bookData.volumeInfo.authors ? bookData.volumeInfo.authors : ['Author not Provided'],\r\n      pic: bookData.volumeInfo.imageLinks.thumbnail ? bookData.volumeInfo.imageLinks.thumbnail : \"http://drpp-ny.org/wp-content/uploads/2014/07/sorry-image-not-available.png\",\r\n      publisher: bookData.volumeInfo.publisher ? bookData.volumeInfo.publisher : [\"Publisher not Provided\"],\r\n      synopsis: bookData.volumeInfo.description ? bookData.volumeInfo.description : [\"Synopsis not Provided\"]\r\n    };\r\n    bookInfo.push(bookFormat);\r\n    return bookInfo\r\n  });\r\n  return bookInfo;\r\n};"]},"metadata":{},"sourceType":"module"}